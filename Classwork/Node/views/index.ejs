<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>To-Do List</title>
</head>

<body style="
    margin:0;
    padding:0;
    font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background:#eef1f4;
    display:flex;
    justify-content:center;
    align-items:flex-start;
">

<div style="
    width:72%;
    margin-top:50px;
    background:#ffffff;
    padding:35px 40px;
    border-radius:12px;
    box-shadow:0 8px 20px rgba(0,0,0,0.08);
    text-align:center;
">

    <h1 style="
        color:#2c3e50;
        margin-bottom:35px;
        letter-spacing:1px;
    ">
        To-Do List
    </h1>

    <!-- Add Task Form -->
    <form action="/addData" method="post" style="
        display:flex;
        justify-content:center;
        gap:12px;
        margin-bottom:30px;
    ">

        <input type="text" name="task" placeholder="Enter your task"
            style="
                width:30%;
                padding:12px;
                border:1px solid #ccd1d9;
                border-radius:6px;
                font-size:14px;
                outline:none;
                text-align:center;
            ">

        <select name="priority"
            style="
                width:15%;
                padding:12px;
                border:1px solid #ccd1d9;
                border-radius:6px;
                font-size:14px;
                outline:none;
                text-align:center;
            ">
            <option hidden>Select priority</option>
            <option value="High">High</option>
            <option value="Medium">Medium</option>
            <option value="Low">Low</option>
        </select>

        <input type="date" name="date"
            style="
                width:15%;
                padding:12px;
                border:1px solid #ccd1d9;
                border-radius:6px;
                font-size:14px;
                outline:none;
                text-align:center;
            ">

        <button type="submit"
            style="
                width:15%;
                background:#2c3e50;
                color:#ffffff;
                border:none;
                border-radius:6px;
                font-size:14px;
                cursor:pointer;
            ">
            Add Task
        </button>
    </form>

    <!-- Task Table -->
    <table style="
    margin:0 auto;
    width:95%;
    border-collapse:collapse;
    font-size:14px;
    color:#2c3e50;
    text-align:center;
    border:2px solid #cfd6dd;
">

    <tr style="background:#f4f6f9;">
        <th style="padding:12px; border:1px solid #cfd6dd;">#</th>
        <th style="padding:12px; border:1px solid #cfd6dd;">Task</th>
        <th style="padding:12px; border:1px solid #cfd6dd;">Priority</th>
        <th style="padding:12px; border:1px solid #cfd6dd;">Date</th>
        <th colspan="2" style="padding:12px; border:1px solid #cfd6dd;">Actions</th>
    </tr>

    <% data.map((e,i)=>{ %>
    <tr>
        <td style="padding:10px; border:1px solid #cfd6dd;"><%= i+1 %></td>
        <td style="padding:10px; border:1px solid #cfd6dd;"><%= e.task %></td>

        <td style="padding:10px; border:1px solid #cfd6dd;">
            <span style="
                padding:4px 12px;
                border-radius:12px;
                font-size:12px;
                color:white;
                background:
                    <%= e.priority === 'High' ? '#c0392b' :
                        e.priority === 'Medium' ? '#f39c12' : '#27ae60' %>;
            ">
                <%= e.priority %>
            </span>
        </td>

        <td style="padding:10px; border:1px solid #cfd6dd;"><%= e.date %></td>

        <td style="padding:10px; border:1px solid #cfd6dd;">
            <a href="/editData?id=<%=e.id%>">
                <button style="
                    background:#34495e;
                    color:white;
                    border:none;
                    padding:6px 14px;
                    border-radius:4px;
                    cursor:pointer;
                    font-size:13px;
                ">
                    Edit
                </button>
            </a>
        </td>

        <td style="padding:10px; border:1px solid #cfd6dd;">
            <a href="/deleteData/<%=e.id%>">
                <button style="
                    background:#7f8c8d;
                    color:white;
                    border:none;
                    padding:6px 14px;
                    border-radius:4px;
                    cursor:pointer;
                    font-size:13px;
                ">
                    Delete
                </button>
            </a>
        </td>
    </tr>
    <% }) %>

</table>

</div>

</body>
</html>
